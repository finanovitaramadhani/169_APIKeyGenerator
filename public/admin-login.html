<!DOCTYPE html>
<html>
<head>
  <title>Login Admin</title>
  <style>
    body { font-family: Arial; padding: 30px; }
    input { width: 300px; padding: 8px; margin: 6px 0; }
    button { padding: 8px 12px; }
    nav { background:#222; padding:12px; margin-bottom:22px; }
    nav a { color:white; margin-right:18px; text-decoration:none; font-weight:bold; }
    nav a:hover { text-decoration:underline; }
  </style>
</head>
<body>

  <!-- ðŸ”¥ NAVBAR -->
  <nav>
    <a href="/">Home</a>
    <a href="/admin-register">Register Admin</a>
    <a href="/admin-login">Login Admin</a>
    <a href="/admin-dashboard">Dashboard Admin</a>
  </nav>

  <h2>Login Admin</h2>

  <input id="username" placeholder="Username"><br>
  <input id="password" placeholder="Password" type="password"><br>

  <button onclick="login()">Login</button>
  <p id="msg"></p>

<script>
async function login() {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;

  const r = await fetch('/admin/login', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ username, password })
  });

  const d = await r.json();
  if (!r.ok) return document.getElementById('msg').innerText = d.error;

  localStorage.setItem("adminKey", d.adminKey);
  location.href = "/admin-dashboard";
}
</script>
</body>
</html>
